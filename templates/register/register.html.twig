{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
    <section class="container border border-secondary border-opacity-50 bg-card-white p-3">
        <header class="row">
            <h1 class="m-0">S'inscrire</h1>
            {% for message in app.session.flashbag.get('error') %}
                <div class="alert alert-danger">{{ message }}</div>
            {% endfor %}

            {% for message in app.session.flashbag.get('success') %}
                <div class="alert alert-success">{{ message }}</div>
            {% endfor %}
        </header>
        <hr>
        <section class="row p-3">
            {{ form_start(form, {'attr': {'class': 'd-flex flex-row gap-3'}}) }}
                <div class="col-6">
                    <h2 class="h3 mb-3 fw-normal">Informations personnelles</h2>
                    <div class="form-group mb-3">
                        {{ form_label(form.name) }}
                        {{ form_widget(form.name) }}
                        {{ form_errors(form.name) }}
                    </div>
                    <div class="form-group mb-3">
                        {{ form_label(form.email) }}
                        {{ form_widget(form.email) }}
                        {{ form_errors(form.email) }}
                    </div>    
                    <div class="form-group mb-3 w-50">
                        {{ form_label(form.password) }}
                        {{ form_widget(form.password) }}
                        {{ form_errors(form.password) }}
                    </div>
                    <div class="form-group mb-3 w-50">
                        {{ form_label(form.confirmPassword) }}
                        {{ form_widget(form.confirmPassword) }}
                        {{ form_errors(form.confirmPassword) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(form.submit, {'attr': {'class': 'btn btn-primary rounded-pill mt-4'}}) }}
                    </div>
                </div>
                <div class="col-6">
                    <h2 class="h3 mb-3 fw-normal">Adresse de livraison</h2>
                    <div class="form-group mb-3">
                        {{ form_label(form.deliveryAddress.street) }}
                        {{ form_widget(form.deliveryAddress.street) }}
                        {{ form_errors(form.deliveryAddress.street) }}
                    </div> 
                    <div class="form-group mb-3">
                        {{ form_label(form.deliveryAddress.city) }}
                        {{ form_widget(form.deliveryAddress.city) }}
                        {{ form_errors(form.deliveryAddress.city) }}
                    </div>
                    <div class="form-group mb-3">
                        {{ form_label(form.deliveryAddress.zipCode) }}
                        {{ form_widget(form.deliveryAddress.zipCode) }}
                        {{ form_errors(form.deliveryAddress.zipCode) }}
                    </div>
                    <div class="form-group mb-3">
                        {{ form_label(form.deliveryAddress.state) }}
                        {{ form_widget(form.deliveryAddress.state) }}
                        {{ form_errors(form.deliveryAddress.state) }}
                    </div>
                    <div class="form-group mb-3">
                        {{ form_label(form.deliveryAddress.country) }}
                        {{ form_widget(form.deliveryAddress.country) }}
                        {{ form_errors(form.deliveryAddress.country) }}
                    </div>
                </div>
            {{ form_end(form) }}
        </section>
        <hr>
        <footer class="d-flex flex-row justify-content-center gap-3">
            <p class="m-0">Déjà inscrit ?</p>
            <a href="{{ path('app_login') }}" class="btn btn-link border-0 m-0 p-0">Se Connecter</a>
        </footer>
    </section>
{% endblock %}
